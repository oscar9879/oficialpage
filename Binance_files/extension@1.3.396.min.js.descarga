/*! For license information please see extension@1.3.396.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("tslib"),require("utilsUMD")):"function"==typeof define&&define.amd?define("extensionUMD",["React","ReactDOM","commonUMD","dataUMD","httpSDK","tslib","utilsUMD"],t):"object"==typeof exports?exports.extensionUMD=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("tslib"),require("utilsUMD")):e.extensionUMD=t(e.React,e.ReactDOM,e.commonUMD,e.dataUMD,e.httpSDK,e.tslib,e.utilsUMD)}(this,((e,t,n,r,o,a,i)=>(()=>{"use strict";var c,l={9264:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Oe});var r=n(1024),o=n.n(r),a=n(6004),i=n(5226),c=n(3120),l=n(916),u=n(6093),s=n(5353),f=n(1458),p=n(1182);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const h=function(){var e,t,n=(e=(0,r.useState)("none"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=function(){var e=window.innerWidth;a(e<768?"mobile":e<1440?"tablet":"desktop")};return(0,r.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),o};var m=n(5906),v=n(4363);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=(0,p.useTheme)().theme,t=y((0,r.useState)(e),2),n=t[0],o=(t[1],y((0,r.useMemo)((function(){return["light"===n?m.R:m._,"light"===n?v.X:v.k]}),[n]),2)),a=o[0],i=o[1];return{bodyTheme:n,themeColors:a,themeExtraColors:i}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=[/^\/[a-zA-Z-]+\/price/i,/^\/[a-zA-Z-]+\/how-to-buy/i,/^\/[a-zA-Z-]+\/altcoins/i,/^\/[a-zA-Z-]+\/markets\/overview/i];const _=function(){var e,t,n,o,i=(0,p.useLanguage)().language,d=(0,p.useNavI18n)().getI18nTxt,m=(0,p.useCommonEnv)().envs.domain,v=b().bodyTheme,y=(0,p.useUserLoginStatus)(),g=y.value,x=y.loading,_=w((0,r.useState)(!1),2),S=_[0],k=_[1],L=w((0,r.useState)(!1),2),C=L[0],I=L[1],O=(0,r.useRef)(!1),A=(0,p.useCommonEnv)().envs.STATIC_HOST,j="mobile"===h(),T=(0,c.L)().isHybrid,R=(0,r.useCallback)((function(){var e;O.current||(O.current=!0,console.log("bannerInitiator called"),e=window.location.pathname,E.some((function(t){return t.test(e)}))?(console.log("call topBarAndTopCTA API to show banner"),(0,f.get)("/bapi/composite/v1/public/growth-activity/loyalty/onboarding/topBarAndTopCTA").then((function(e){var t=e.data;console.log("topBarAndTopCTA API call",t),null!=t&&t.showTopBar&&I(!0)}))):console.log("validatePageUrl = false"))}),[]);(0,r.useEffect)((function(){x||g||k(!0)}),[g,x]),e=function(){R()},t=S,n=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){n.current||(console.log("UserActionTrigger"),n.current=!0,e())}),[]),(0,r.useEffect)((function(){var e,n,r;t&&(e=function(){window.removeEventListener("mousemove",e,!1),console.log("mousemoveListener triggered"),o()},n=function(){window.removeEventListener("touchstart",n,!1),console.log("touchstartListener triggered"),o()},r=function(){window.removeEventListener("scroll",r,!1),console.log("scrollListener triggered"),o()},window.addEventListener("mousemove",e,!1),window.addEventListener("touchstart",n,!1),window.addEventListener("scroll",r,!1))}),[t]);var N=(0,r.useCallback)((function(){(0,a.j)("webClick",{elementId:"footer_banner_close",pageName:"extension",lang:i}),I(!1)}),[i]),M=(0,r.useCallback)((function(){(0,a.j)("webClick",{elementId:"footer_banner_click",pageName:"extension",lang:i});var e="https://accounts.".concat(m,"/").concat(i,"/register?registerChannel=footer_banner");window.open(e,"_blank")}),[m,i]);if(T||!C||j)return null;var D="dark"===v?"dark_banner_bg.svg":"light_banner_bg.svg",P='url("'.concat(A,"/static/images/home/").concat(D,'")');return React.createElement("div",{className:"IncentiveBanner",style:{backgroundImage:P}},React.createElement("div",{className:"IncentiveBanner_content"},React.createElement(l.Z,{className:"IncentiveBanner_logo",src:"".concat(A,"/static/images/home/incentive_logo.svg")}),React.createElement("div",{className:"IncentiveBanner_text"},d("Register now and receive up to 100 USDT in rewards"))),React.createElement(u.Z,{onClick:M,sz:"small",className:"IncentiveBanner_register_btn"},d(j?"ba-Register":"Register Now")),React.createElement(s.Z,{onClick:N,size:24,className:"IncentiveBanner_close_btn"}))};var S=n(1996);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function L(){L=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new C(o||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,a,i,c){var l=s(e[r],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function C(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function I(e,t){return O.apply(this,arguments)}function O(){var e;return e=L().mark((function e(t,n){var r,o,a,i,c,l,u;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/apex/v1/public/apex/marketing/web/commonConfig",{keys:["com.globalRedirection.disable"]});case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("handleRedirect, post commonConfig error = ",e.t0);case 9:if(i=0,null!==(r=a)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.res&&(i=a.data.res["com.globalRedirection.disable"],console.log("handleRedirect, isDisabledRedirection = ",i)),c=localStorage.getItem("_GLOBALJS_REDIRECTION_DISABLE"),l=window.location.hostname.split("."),u=l[l.length-2],!(c&&"qa1fdg"===u||1===i)){e.next=18;break}return console.log("handleRedirect, redirection is disabled"),e.abrupt("return");case 18:if(console.log("handleRedirect, url = ",t),!n){e.next=22;break}return window.location.replace(t),e.abrupt("return");case 22:window.location.href=t;case 23:case"end":return e.stop()}}),e,null,[[0,6]])})),O=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,c,"next",e)}function c(e){C(a,r,o,i,c,"throw",e)}i(void 0)}))},O.apply(this,arguments)}function A(){var e=(0,p.useLanguage)().language,t=(0,p.useComplianceActionCheck)().value;return(0,r.useEffect)((function(){var n,r,o;if(console.log("set _EXTENSION_REDIRECT_FLAG"),window._EXTENSION_REDIRECT_FLAG=!0,null!=t&&t.success&&(null==t||null===(n=t.data)||void 0===n||!n.pass)&&"web"===(null==t||null===(r=t.data)||void 0===r?void 0:r.clientType)){var i=((null==t?void 0:t.data)||{}).actionType,c=((null==t||null===(o=t.data)||void 0===o?void 0:o.actionInfo)||{}).actionUrl;if(c){if(console.log("ComplianceRedirect actionUrl = ",c),(0,a.j)("pageView",{elementID:"common_widget_extension_compliance_redirect",pageName:"common_widget_extension",df_3:c}),"redirect_rel"===i){if(c.startsWith("/"))return void I("https://www.%suffixOrigin%".concat(c).replace("%suffixOrigin%",(0,S.getLevelDomain)(2)),!0);var l=c;I(window.location.href.replace("/"+e,"/"+l),!0)}"redirect_abs"===i&&I(c,!0)}}}),[t]),React.createElement(React.Fragment,null)}var j=n(314);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=n(2779),N=n.n(R);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.banner,n=e.themeColors,o=(0,c.L)().isHybrid,a=(0,p.useLanguage)().language,i=(0,p.useI18n)(t.i18nNamespace||"com-compliance").getI18nText,l=M((0,r.useState)(!0),2),u=l[0],f=l[1],d=(0,r.useCallback)((function(e){var t=e||{},r=t.bannerText,o=void 0===r?"":r,c=t.bannerLinks,l=void 0===c?[]:c,u=t.useI18nKey,s=t.bannerTextMultiLang,f=void 0===s?[]:s,p=o;if(u)p=i(o);else{var d=f.find((function(e){return e.selectedLang===a}));null!=d&&d.text&&(p=d.text)}return l.forEach((function(e){var t,r,o=null===(t=e.linkURL)||void 0===t||null===(r=t.replace("%suffixOrigin%",(0,S.getLevelDomain)(2)))||void 0===r?void 0:r.replace("%locale%",a),c=e.linkText;u&&(c=i(e.linkText));var l='<a href="'.concat(o,'" class="CommonWidgetCompliance_content_link" style="color: ').concat(n.textBrand,'" target="_blank">').concat(c,"</a>");if(e.key){var s=new RegExp("".concat(e.key),"g");p=s.test(p)?p.replace(s,l):"".concat(p," ").concat(l)}else p="".concat(p," ").concat(l)})),p}),[a,i]),h=(0,r.useCallback)((function(){f(!1)}),[]);if(!u)return null;if(o&&(null==t||!t.showInWebview))return null;var m=d(t);return m?React.createElement("div",{key:t.bannerText,className:"CommonWidgetCompliance_content",style:{color:n.textPrimary}},React.createElement("div",{dangerouslySetInnerHTML:{__html:m}}),t.canBeClosed&&React.createElement(s.Z,{onClick:h,size:24,className:"CommonWidgetCompliance_close_btn",style:{color:n.bg4}})):null}var U=function(){var e=b().themeColors,t=(0,p.useComplianceActionCheck)().value,n=M((0,r.useState)([]),2),o=n[0],i=n[1],c=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var e,n;if(null!=t&&t.success&&(null==t||null===(e=t.data)||void 0===e||!e.pass)){var r,o,l=((null==t||null===(n=t.data)||void 0===n?void 0:n.actionInfo)||{}).bannerInfo,u=void 0===l?[]:l;console.log("ComplianceBanners, bannerInfo = ",u),i(u),!c.current&&u.length>0&&(c.current=!0,console.log("ComplianceBanner show"),(0,a.j)("pageView",{elementID:"common_widget_extension_compliance_banner",pageName:"common_widget_extension",df_3:String((null==u||null===(r=u[0])||void 0===r||null===(o=r.extraInfo)||void 0===o?void 0:o.errorCode)||"client_no_code")}))}}),[t]),React.createElement(React.Fragment,null,o.map((function(t){return React.createElement(P,{key:t.bannerText,banner:t,themeColors:e})})))};function B(){var e,t,n,o,a,i,c,l,u,s,f,d,h=(e={portalClassName:N()("CommonWidgetCompliance","_CWC")},t=e.portalClassName,n=b().themeColors,o=(0,p.useComplianceActionCheck)().value,a=(0,r.useRef)(null),f=(0,r.useState)(null),d=2,i=function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(f,d)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],l=i[1],u="__APP_HEADER",s=(0,r.useMemo)((function(){var e=document.getElementById(u);return!!e&&"sticky"===window.getComputedStyle(e).position}),[]),(0,r.useEffect)((function(){var e,n=((null==o||null===(e=o.data)||void 0===e?void 0:e.actionInfo)||{}).bannerInfo,r=null==n?void 0:n[0];if(r){var i=null==r?void 0:r.shouldSticky;if(a.current||(a.current=document.createElement("div"),a.current.className=t,l(a.current)),i)if(s){var c=document.getElementById(u);null==c||c.prepend(a.current)}else a.current.classList.add("CommonWidgetCompliance_sticky"),document.body.prepend(a.current);else document.body.prepend(a.current);return function(){var e,t=null===(e=a.current)||void 0===e?void 0:e.parentNode;t&&a.current&&t.removeChild(a.current)}}}),[o,s]),(0,r.useEffect)((function(){c&&(c.style.backgroundColor=n.bg3)}),[n,c]),c);return React.createElement(React.Fragment,null,h&&(0,j.createPortal)(React.createElement(U,null),h))}var Z=n(3941),G=n(7560),F=n(2680),W=n(5114),z=n(6047),q=n(4561),H=n(3408),K=function(e){return e.OPEN_LINK="OPEN_LINK",e.CUSTOM="CUSTOM",e}({}),Y=function(e){return e.BASIC="basic",e.TERMS="terms",e}({}),V="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o().useLayoutEffect:o().useEffect;function $(e){var t=o().useRef(e);return V((function(){t.current=e})),o().useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.apply(null,r)}),[])}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q,ee,te="com-compliance";function ne(e){var t=e.popupInfo,n=(0,c.L)().isHybrid,o=(0,p.useLanguage)().language,a=X((0,r.useState)(!0),2),i=a[0],l=a[1],s=(0,p.useI18n)(t.i18nNamespace||te).getI18nText;t.useI18nKey&&["title","content","confirmText","cancelText"].forEach((function(e){t[e]=s(t[e])}));var f=$((function(e){switch(e){case"warning":return React.createElement(F.Z,null);case"error":return React.createElement(W.Z,null);case"success":return React.createElement(z.Z,null);default:return React.createElement(q.Z,null)}})),d=$((function(){var e;if(console.log("onConfirm"),(null==t||null===(e=t.confirmAction)||void 0===e?void 0:e.type)===K.OPEN_LINK){var n,r,a,i=null==t||null===(n=t.confirmAction)||void 0===n||null===(r=n.url)||void 0===r||null===(a=r.replace("%suffixOrigin%",(0,S.getLevelDomain)(2)))||void 0===a?void 0:a.replace("%locale%",o);window.open(i,"_blank")}l(!1)})),h=$((function(){console.log("onCancel"),l(!1)}));return!n||null!=t&&t.showInWebview?React.createElement(Z.ZP,{className:"CommonWidgetCompliance-popup-box"},React.createElement(H.PopupModal,{visible:i},React.createElement(G.Z,{actions:React.createElement("div",{className:"flex-column"},React.createElement(u.Z,{className:"width-100",onClick:d},t.confirmText),t.cancelText&&React.createElement(u.Z,{variant:"secondary",className:"mt-14 width-100",onClick:h},t.cancelText)),description:t.content,icon:f(t.type),title:t.title}))):null}function re(){var e=(0,p.useComplianceActionCheck)().value,t=X((0,r.useState)(null),2),n=t[0],o=t[1],i=n&&(!(null!=n&&n.category)||(null==n?void 0:n.category)===Y.BASIC);return(0,r.useEffect)((function(){var t,n;if(null!=e&&e.success&&(null==e||null===(t=e.data)||void 0===t||!t.pass)){var r=((null==e||null===(n=e.data)||void 0===n?void 0:n.actionInfo)||{}).popupInfo;r&&o(r)}}),[e]),(0,r.useEffect)((function(){var e;i&&(console.log("CompliancePopup show"),(0,a.j)("pageView",{elementID:"common_widget_extension_compliance_popup",pageName:"common_widget_extension",df_3:String((null==n||null===(e=n.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code")}),console.log("CompliancePopup, popupInfo= ",n))}),[n,i]),i?React.createElement(ne,{popupInfo:n}):null}function oe(){var e,t,n=document.getElementById("globalmodal");n&&(null==n||null===(e=n.parentNode)||void 0===e||e.removeChild(n)),(t=document.getElementsByTagName("html")[0]).style.overflowY=Q,t.style.height=ee}function ae(){var e,t=document.getElementById("bniframexxxuw"),n=null==t||null===(e=t.contentDocument)||void 0===e?void 0:e.getElementById("pre-chat-container");n?n.style.display="none":setTimeout((function(){ae()}),50)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce="com-compliance";function le(e){var t=e.popupInfo,n=(0,p.useLanguage)().language,o=(0,p.useI18n)(t.i18nNamespace||ce),a=o.getI18nText,i=o.i18n,c=(0,r.useMemo)((function(){return!(i&&Object.keys(i).length>0)}),[i]);t.useI18nKey&&["title","content","confirmText","cancelText"].forEach((function(e){t[e]=a(t[e])}));var l=$((function(){var e,r;console.log("start showComplianceTermModal");var o=null===(e=t.termsBodyUrl)||void 0===e||null===(r=e.replace("%suffixOrigin%",(0,S.getLevelDomain)(2)))||void 0===r?void 0:r.replace("%locale%",n);!function(e){var t=e.code,n=e.termsBodyUrl,r=e.nextOpenInterval||43200,o=e.confirmText,a=e.cancelText||"Cancel",i=e.confirmCountdown||5,c=!!a,l=e.style||{},u=e.isScrollHide||!1,s=-1===document.cookie.indexOf("theme=dark");if(/\/my\/settings\/profile|\/need-kyc|\/privacy|\/legal\/terms-uk|\/about-legal|\/compliance\/.*/.test(window.location.href))console.log("showComplianceTermModal false, cause: url match");else{if(console.log("should showComplianceTermModal"),c){var f=t+"-tnc-popup",p=localStorage.getItem(f);if(p&&Date.now()-parseInt(p,10)<1e3*r)return void console.log("showComplianceTermModal false, cause: nextOpenInterval");localStorage.setItem(f,Date.now().toString())}var d=null,h=document.getElementById("globalmodal");if(!h){var m;m=document.getElementsByTagName("html")[0],Q=m.style.overflowY,ee=m.style.height,m.style.overflowY="hidden",m.style.height="100vh",(h=document.createElement("div")).setAttribute("name","globalmodal"),h.setAttribute("id","globalmodal"),h.style.height="100vh",h.style.boxSizing="border-box",h.style.width="100%",h.style.position="fixed",h.style.top="0px",h.style.right="0px",h.style.left="0px",h.style.bottom="0px",h.style.zIndex="10086",h.style.background="rgba(0, 0, 0, 0.55)",h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center";var v=document.createElement("div");v.setAttribute("name","modal"),v.style.display="flex",v.style.position="relative",v.style.width=l.width||"100%",v.style.height=l.height||"calc(100vh - 144px)",v.style.margin=l.margin||"16px",v.style.maxWidth="769px",v.style.background=s?"white":"#181A20",v.style.borderRadius="8px",v.style.boxShadow="0px 0px 1px rgba(24, 26, 32, 0.1), 0px 16px 32px rgba(71, 77, 87, 0.16), 0px 8px 16px rgba(24, 26, 32, 0.16)",v.style.flexDirection="column",v.style.padding=l.padding||"16px 24px 24px 8px";var y=document.createElement("div");y.setAttribute("name","scrollHide"),y.style.position="absolute",y.style.width="3px",y.style.top="24px",y.style.right="8px",y.style.bottom="80px",y.style.background=s?"white":"#181A20";var g=document.createElement("iframe");g.setAttribute("name","bniframexxxuw"),g.setAttribute("id","bniframexxxuw"),g.setAttribute("allowtransparency","true"),g.setAttribute("width","100%"),g.setAttribute("height","100%"),g.setAttribute("style","background-color=transparent"),g.setAttribute("frameborder","0"),g.setAttribute("src",n),g.attachEvent?g.attachEvent("onload",(function(){ae()})):g.onload=function(){ae()},v.appendChild(g),u&&v.appendChild(y);var b=document.createElement("div");if(b.style.display="flex",b.style.justifyContent="center",c){var w=document.createElement("button");w.style.height="40px",w.style.color="#1E2329",w.style.outline="none",w.style.border="none",w.style.background="#EAECEF",w.style.borderRadius="4px",w.style.display="flex",w.style.alignItems="center",w.style.justifyContent="center",w.style.margin="24px 0",w.style.fontSize="16px",w.style.lineHeight="24px",w.style.fontWeight="500",w.style.marginBottom="0px",w.style.cursor="pointer",w.style.opacity="1",w.style.marginRight="16px",w.style.paddingRight="12px",w.style.paddingLeft="12px",w.innerText=a,w.onclick=function(){oe()},b.appendChild(w)}var x=document.createElement("button");x.style.width=l.btnWidth||"auto",x.style.height="40px",x.style.color="#1E2329",x.style.outline="none",x.style.border="none",x.style.background="#fcd535",x.style.borderRadius="4px",x.style.display="flex",x.style.alignItems="center",x.style.justifyContent="center",x.style.padding="0 12px",x.style.margin="24px 0",x.style.fontSize="16px",x.style.lineHeight="24px",x.style.fontWeight="500",x.style.marginBottom="0px",x.style.cursor="pointer",x.style.opacity="1",x.innerText=o,x.disabled=!0,x.onclick=function(){var e;if(!d){null===(e=g.contentWindow)||void 0===e||e.postMessage({type:"submit_terms"},"*"),x.style.cursor="not-allowed",x.style.opacity="0.6";var t=i;d=setInterval((function(){--t<=0?(clearInterval(d),oe()):x.innerText=o+" ("+t+")"}),1e3)}},n&&window.addEventListener("message",(function(e){console.log("ComplianceTerm message received",e.data);var t=e.data||{},n=t.type,r=t.buttonDisabled;"muses_terms_checkbox_event"===n&&(x.disabled=r,x.style.cursor=r?"not-allowed":"pointer",x.style.opacity=r?"0.6":"1")}));var E=window.matchMedia("(max-width: 768px)");_(E),E.addListener(_),b.appendChild(x),v.appendChild(b),h.appendChild(v),document.body.appendChild(h)}}function _(e){e.matches?v.style.padding=l.padding||"20px 16px 24px 0":v.style.padding=l.padding||"32px 24px 24px 8px"}}({code:t.extraInfo.errorCode,termsBodyUrl:o,nextOpenInterval:t.nextOpenInterval,confirmText:t.confirmText,cancelText:t.cancelText,isShowCancel:!!t.cancelText})}));return(0,r.useEffect)((function(){c||t.category!==Y.TERMS||l()}),[c,l,t]),React.createElement(Z.ZP,{className:"CommonWidgetCompliance-term-box"})}function ue(){var e,t,n=(0,p.useComplianceActionCheck)().value,o=(e=(0,r.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1],l=i&&(null==i?void 0:i.category)===Y.TERMS;return(0,r.useEffect)((function(){var e,t;if(null!=n&&n.success&&(null==n||null===(e=n.data)||void 0===e||!e.pass)){var r=((null==n||null===(t=n.data)||void 0===t?void 0:t.actionInfo)||{}).popupInfo;r&&c(r)}}),[n]),(0,r.useEffect)((function(){var e;l&&(console.log("ComplianceTerm show"),(0,a.j)("pageView",{elementID:"common_widget_extension_compliance_term",pageName:"common_widget_extension",df_3:String((null==i||null===(e=i.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code")}),console.log("ComplianceTerm, popupInfo= ",i))}),[i,l]),l?React.createElement(le,{popupInfo:i}):null}var se=n(9284),fe=n(6731);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function de(){de=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new k(o||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,a,i,c){var l=s(e[r],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==pe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function he(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){he(a,r,o,i,c,"next",e)}function c(e){he(a,r,o,i,c,"throw",e)}i(void 0)}))}}var ve=function(){var e=me(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/composite/v1/private/growth/marketing/consent-pop-up",{source:"Web"});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t={};case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=me(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/composite/v1/private/growth/marketing/consent-status",{marketingConsentStatus:t,source:"Web"});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n={data:!1};case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ge=[/^\/[a-zA-Z-]+\/need-kyc(\/.*)?/i,/^\/[a-zA-Z-]+\/kyc-entry(\/.*)?/i,/^\/[a-zA-Z-]+\/kyc-center(\/.*)?/i,/^\/[a-zA-Z-]+\/about-legal(\/.*)?/i],be=S.cachePromiseStore.checkCacheBeforeRequest("getShowMarketingConsent",(0,p.requestAfterCheckLogin)(ve)),we="NTEwMzc1ODYwMTo4aThubklsaWVtTGZDUnZTN1ZyTzhIV2hCdEJFaDE2Zw==",xe={A:{title:"ba-marketing-consent-popup-title1",desc:"ba-marketing-consent-popup-desc1"},B:{title:"ba-marketing-consent-popup-title2",desc:"ba-marketing-consent-popup-desc2"},C:{title:"ba-marketing-consent-popup-title3",desc:"ba-marketing-consent-popup-desc3"},D:{title:"ba-marketing-consent-popup-title4",desc:"ba-marketing-consent-popup-desc4"}},Ee="market_consent_popup";function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new k(o||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,a,i,c){var l=s(e[r],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==_e(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ke(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(){var e,t,n,o,c,l=(0,p.useNavI18n)().getI18nTxt,s=(0,p.useThemis)([we]).value,f=null==s||null===(e=s[we])||void 0===e?void 0:e.Marketing_Consent_String_Versions,d=(t=(0,S.useAsync)(be,[]),n=t.value,{loading:t.loading,value:!!(n||{}).data}).value,h=(0,i.s)().pushNotify,m=(o=(0,r.useState)(!1),c=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(o,c)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=m[0],y=m[1],g=xe[f||"A"]||{title:"ba-marketing-consent-popup-title1",desc:"ba-marketing-consent-popup-desc1"},b=g.title,w=g.desc,x=(0,r.useCallback)(function(){var e,t=(e=Se().mark((function e(t){var n,r,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.j)("webClick",{pageName:Ee,elementID:t?"web_click_market_consent_ok":"web_click_market_consent_close"}),e.next=3,ye(t);case 3:n=e.sent,r=n.data,o=n.message,r?y(!1):h({title:o,message:""});case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ke(a,r,o,i,c,"next",e)}function c(e){ke(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[h]);return(0,r.useEffect)((function(){d?(y(!0),(0,a.j)("pageView",{elementID:"web_view_market_consent",pageName:Ee})):y(!1)}),[d]),v?React.createElement(H.PopupModal,{visible:v},React.createElement(G.Z,{icon:React.createElement(fe.Z,null),title:l(b),description:l(w),actions:React.createElement(se.Z,{style:{gap:"var( --space-2xs)"}},React.createElement(u.Z,{style:{flex:1},variant:"secondary",className:"w-full",onClick:function(){return x(!1)}},l("ba-no")),React.createElement(u.Z,{style:{flex:1},variant:"primary",className:"w-full",onClick:function(){return x(!0)}},l("ba-yes")))})):null};const Ie=function(){var e=(0,p.useUserLoginStatus)().value,t=(0,r.useMemo)((function(){if(!S.isClient)return!1;var e=window.location.pathname;return!ge.some((function(t){return t.test(e)}))}),[]);return e&&t?React.createElement(Ce,null):null},Oe=function(){var e=b().bodyTheme;return(0,r.useEffect)((function(){(0,a.j)("pageView",{elementID:"common_widget_extension_mount",pageName:"common_widget_extension"})}),[]),React.createElement(H.ErrorBundary,{name:"common-widget-extension"},React.createElement(H.ThemeProvider,{theme:e,className:"_CWC"},React.createElement(i.Z,null,React.createElement("div",{className:"extension-container hidden-in-bnc-app common-widget-css_wrap theme-root bg1 ".concat(e,"-color")},React.createElement(A,null),React.createElement(ue,null),React.createElement(re,null),React.createElement(B,null),React.createElement(_,null),React.createElement(Ie,null)))))}},1024:t=>{t.exports=e},314:e=>{e.exports=t},3408:e=>{e.exports=n},1182:e=>{e.exports=r},1458:e=>{e.exports=o},6748:e=>{e.exports=a},1996:e=>{e.exports=i}},u={};function s(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={id:e,loaded:!1,exports:{}};return l[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=l,c=[],s.O=(e,t,n,r)=>{if(!t){var o=1/0;for(u=0;u<c.length;u++){for(var[t,n,r]=c[u],a=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(s.O).every((e=>s.O[e](t[i])))?t.splice(i--,1):(a=!1,r<o&&(o=r));if(a){c.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=c.length;u>0&&c[u-1][2]>r;u--)c[u]=c[u-1];c[u]=[t,n,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.j=898,(()=>{var e={898:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(c)var u=c(s)}for(t&&t(n);l<a.length;l++)o=a[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=this.webpackChunkUMD=this.webpackChunkUMD||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var f=s.O(void 0,[736],(()=>s(9264)));return s.O(f)})()));